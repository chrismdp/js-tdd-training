<script>
  function Exit(a, b, energy) {
    this._a = a;
    this._b = b;
    this._energy = energy;

    this.validRoute = function(from, to) {
      return (this._a === from && this._b === to) || (this._b === from && this._a === to);
    };
  }

  function Map() {
    this._allowedPaths = [];
    this.allowWalking = function(from, to, energy) {
      this._allowedPaths.push(new Exit(from, to, energy));
    };
    this.allowedRoute = function(from, to) {
      for (var i = 0; i < this._allowedPaths.length; i++) {
        var exit = this._allowedPaths[i];
        if (exit.validRoute(from, to)) {
          return exit;
        }
      }
      return null;
    }
  }

  function Hero(name, location, energy) {
    this._name = name;
    this._location = location;
    this._energy = energy;
    this._allowedPaths = [];

    this.name = function() { return this._name; };
    this.location = function() { return this._location };
    this.energy = function() { return this._energy; };
  }

  function Walker(map) {
    this.walkTo = function(hero, destination) {
      if (exit = map.allowedRoute(hero._location, destination)) {
        hero._location = destination;
        hero._energy -= exit._energy;
      }
    }
  }

  console.log("____ HERO TESTS");

  var hero = new Hero("Jane");
  console.log(hero.name() === "Jane");

  var map = new Map();
  hero = new Hero("Jane", "Launch pad");
  new Walker(map).walkTo(hero, "Spaceship");
  console.log(hero.location() === "Launch pad");
  map.allowWalking("Launch pad", "Spaceship", 25);
  new Walker(map).walkTo(hero, "Spaceship");
  console.log(hero.location() === "Spaceship");
  new Walker(map).walkTo(hero, "Launch pad");
  console.log(hero.location() === "Launch pad");

  hero = new Hero("Jane", "Launch pad", 100);
  map.allowWalking("Launch pad", "Spaceship", 25);
  new Walker(map).walkTo(hero, "Spaceship");
  console.log(hero.energy() === 75);

  console.log("____ EXIT TESTS");
  var exit = new Exit("1", "2", 100);
  console.log(exit.validRoute("2", "1") === true);
  console.log(exit.validRoute("1", "2") === true);

  console.log("____ MAP TESTS");
  var map = new Map();
  map.allowWalking("Launch pad", "Spaceship", 25);
  console.log(map.allowedRoute("Launch pad", "Spaceship") != null);
  console.log(map.allowedRoute("Spaceship", "Launch pad") != null);
  console.log(map.allowedRoute("Spaceship", "Launch pad")._energy === 25);
</script>
